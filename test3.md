# 過去問

---
---
URL:https://www.it-ex.com/distribution/securitynetworksolution/ciscobiz/ccna-rs/

---
1.IPアドレス172.16.150.240 / 20 が含まれるサブネットのネットワークアドレスはどれか。  
C.172.16.144.0

150 => 「**1001**0110」。/20なので第3オクテット5ビット目以降が0にすることで求められる。

---
2.東京のワークステーションが大阪のワークステーションと通信できるようにする必要がある。もっとも簡単な設定方法は何か。

<img width="900" alt="" src="./images/test3/問題2.png">

D.東京ルーターにスタティックルートで宛先ネットワーク172.31.0.0 / 19、ネクストホップ10.1.1.2を設定する

大阪のLAN内の3つのネットワークを集約しスタティックルートで登録する。10(**000**01010), 20(**000**10100), 30(**000**11110)なので3つのネットワークは先頭から19ビットが一致するため172.31.0.0 / 19で集約できる。

---
3.Catalystスイッチで`switchport trunk native vlan 10`コマンドを設定すると、どのように動作するか。  
B.VLAN10の情報はトランクリンクでタグを付けずに転送する

`switchport trunk native vlan 10`コマンドは、トランクポートに設定するコマンド。トランクポートでは各VLANの情報はタグ付けされるが、**Native VLANに限りタグ付けされない**。

---
4.デバッグメッセージにミリ秒単位でタイムスタンプを表示させるためのコマンドを選択  
C.`service timestamps debug datetime msec`

A.`service timestamps log datetime msec` => ログメッセージのタイムスタンプ  

---
5.R1ルーターとR2ルーターが通信できていないため、システム管理者がR1 / R2で`show int s0/0/0`で状況を確認した。通信ができない原因を1つ選択

<img width="700" alt="" src="./images/test3/問題5.png">

A.カプセル化タイプの設定誤り

インターフェイスが正常に動作しているかは`show interface`コマンドや`show ip interface brief`コマンドのStatusとProtocolで判断できる。~ is up, line protocol is downの場合は「ローカルとリモートのルータ設定の誤り」「ケーブル上のタイミングの問題(ロック信号)」「CSU / DSU障害」「専用回線その他のキャリアサービスの問題」などの原因が考えられる。どちらもdownの場合はルータでCD信号を検出できておらず、「ハードウェア障害」「回線ダウン」「ケーブル接続障害」などがある。*administratively down*の場合は`shutdown`コマンドが有効になっている。

---
6.正しい拡張IPアクセスコントロールリストを選択  
C.`access-list 150 permit tcp any host 192.168.1.1`

B.`access-list 50 permit host 192.168.1.1`

標準IPアクセスコントロールリストを作成する場合、アクセスリスト番号は1 ~ 99, 1300 ~ 1999までの範囲で指定する。標準アクセスコントロールリストでは、**アドレスとワイルドカードマスクの組み合わせはひとつだけ指定**する。  
拡張IPアクセスコントロールリストを作成する場合、アクセスリスト番号は100 ~ 199, 2000 ~ 2699までの範囲を指定する。プロトコル名を指定した上で、**アドレスとワイルドカードマスクの組み合わせを2つ指定**する。最初のアドレスが送信元、次が宛先アドレス。  
permitは条件に一致した場合に許可、anyは全て許可するの意味。

---
7.ネットワークの利用者が、FTPサーバからファイルをコピーしてる。このファイルコピー操作で使用しているプロトコルスタックの最も高い階層名はどれか  
C.アプリケーション

OSI参照モデルの階層構造名:物理層、データリンク層、ネットワーク層、トランスポート層、セッション層、プレゼンテーション層、アプリケーション層

---
8.レイヤ2スイッチYを新しく追加し、管理用ワークステーションからリモート接続して管理する必要がある。このためにスイッチYに設定すべきコマンド

<img width="700" alt="" src="./images/test3/問題8.png">

E.`SwitchY(config)#ip default-gateway 192.168.2.254`  
`SwitchY(config)#interface fa0/24`  
`SwitchY(config-if)#ip address 192.168.2.253 255.255.255.0`  
`SwitchY(config-if)#no shutdown`

レイヤ2スイッチにIPアドレスを設定する場合、interface vlan 1に対してIPアドレスを設定する。レイヤ2スイッチのfa0 / 24のような各物理ポートにはIPアドレスを設定できない。またルータのようなIPルーティング機能は備わっていないため、別サブネットと通信を行うには、PCと同様にデフォルトゲートウェイを設定する必要があり、グローバルコンフィギュレーションモードで`ip default-gateway`コマンドで設定する。

---
9.ダイナミックルーティングが有効な構成において、バックアップルートとしてスタティックルートを選択させたい場合、どのパラメータを調整すればよいか  
C.アドミニストレーティブディスタンス

A.リンクのコスト B.リンクの遅延 D.リンクの帯域幅 E.ホップカウント

アドミニストレーティブディスタンスはルート情報の信頼性を表す数値で、0 ~ 255の間で表現され値が小さいほど信頼性が高く優先的にルーティングテーブルに挿入される。デフォルトのアドミニストレーティブディスタンスはスタティックが1、内部EIGRPが90、OSPFが110、RIPが120。スタティックルートの値が小さいため、ルーティングプロトコルを設定してダイナミックルーティングを有効にしている環境だと、デフォルトではスタティックルートが優先されてルーティングテーブルに挿入される。スタティックルートをバックアップルートとして使用したい場合、スタティックルートのアドミニストレーティブディスタンス値をルーティングプロトコルの値よりも大きくしてスタティックルートの優先度を下げる。

---
10.ルータに対するTelnetアクセスのセキュリティを強化する方法を2つ選択  
B.アクセスコントロールリストを作成し、仮想ポートに`access-class`コマンドを使用して適用する  
C.ラインvtyに対してパスワードを設定し、loginを有効にする

A.アクセスコントロールリストを作成し、仮想ポートに`access-group`コマンドを使用して適用する  
D.インターフェイスを物理的にセキュアにする  
E.アクセスコントロールリストを作成し、物理インターフェイスに`access-group`コマンドを使用して適用する

仮想ポート(VTY)に`access-class`コマンドを使用してアクセスコントロールリストを適用する。ネットワーク192.168.1.0/24内の任意のデバイスからルータへのTelnetアクセスを許可する場合、`access-list 12 permit 192.168.1.0 0.0.0.255 line vty 0 4 access-class 12 in`とすると、VTY回線(0 ~ 4)に対して、ACL12の条件(IPアドレスが192.168.1.x)を許可する。

---
11.PPPが動作するのは、OSI参照モデルのどの階層か  
C.レイヤ2(データリンク層)

pppHDLC(*High-Level Data Link Control*)はSerialインターフェイスのデフォルトのレイヤ2プロトコル。Cisco機器でしかサポートされていない。PPPはCisco以外の機器でもサポートされている。Frame-relayもレイヤ2プロトコル。

---
12.受信したフレームが破損していることが分かった場合にフレームを破棄するOSI階層はどこか  
C.データリンク層

データリンク層では、**フレームを受信するとフレーム全体のエラーチェック**を行う。結果、エラーがあったと判断された場合にはそのフレームを破棄する。

---
13.レイヤ2スイッチが、受信したレイヤ2フレームを転送するかフィルタするか判断する際に使っている情報  
A.宛先MACアドレス

レイヤ2スイッチは、受信したフレームのレイヤ2ヘッダの宛先MACアドレス(*Destination Address*)によって転送先を決定する。DAがブロードキャストやマルチキャストアドレスの時はフラッディング、ユニキャストアドレスでMACアドレステーブルで検索できたときには、MACアドレステーブルに記載されているポートにのみ転送する。検索できなければ受信フレームは全てのポートにフラッドする。

---
14.ダイナミックルーティングより、スタティックルーティングの優れている点を2つ  
D.スタブネットワークにおいて、ルーティングアップデートパケットによるネットワークへの負荷を下げることができる  
G.ネットワーク管理者のみがルーティングテーブルの変更を行うため、セキュリティが確保される

A.ルーティングテーブルの作成や更新にアルゴリズムが使用される  
B.ネットワークに変更があった場合には、ルーティングテーブルが自動的に更新される  
C.自動的にルーティングアップデートがネイバーに送信される  
E.ネットワークの規模が拡大するにつれて、設定が簡単になる  
F.自動的にルート集約がされる  
=> 全てダイナミックルーティングの特徴

ルートの登録・変更は全てネットワーク管理者のみが行う。また、スタブネットワーク(端に位置するネットワーク)の場合はその先にルータがないためルーティングアップデートの送信は必要ない。このような場合にスタティックルートを使用すると不要なルーティングアップデートを送信しなくなりネットワークに負荷を下げることができる。

---
15.アクティブなTelnet接続を確認できるshowコマンド  
B.`show sessions`

このコマンドで、Telnet接続を確立したホストのリストが表示される。また、`show suers`コマンドを使うと、現在アクティブなEXECセッションとしてコンソールからの接続ユーザとTelnetからの接続セッションを同時に確認できる。conだとローカルコンソール、vtyだとリモート接続。ユーザが複数存在する場合は*が現在の端末セッションユーザを示す。

---
16.新しいIOSをルータに導入する。既存のIOSを残したままflashに投入できる新しいIOSの最大ファイルサイズ

<img width="700" alt="" src="./images/test3/問題16.png">

D.9MB

ログから、9369268 availableとある。単位はバイトなので、約9Mバイト強の空きがあることが分かる。

---
17.WAN接続で使用する技術に関連するものを3つ選択  
A.DSL  
C.PPP => 同期回線と非同期回線上でルータ間接続と、ホスト / ネットワーク間接続を提供する  
F.フレームリレー => 業界基準のスイッチドデータリンク層プロトコル

B.WAP => *Wireless Application Protocol*の略で、携帯電話インターネットの技術仕様  
D.IPsec E.L2TPv3 => VPN(*Virtual Private Network*)をサポートするために用いられる技術

WAN接続で使用する技術には以下のようなものを含んでいる。  
HDLC:PPP、専用リンク、回線交換接続における、Ciscoのデフォルトのレイヤ2プロトコル  
ATM:セルリレーの国際規格  
ブロードバンド:DSL / PPPoE / PPPoA / ケーブルイーサネットなどの技術がある  

---
18.ネットワーク層に相当するものを3つ  
A.IPアドレス  
D.ルーティング  
F.パケット

レイヤ2(データリンク層):C.フレーム, G.MACアドレス  
レイヤ4(トランスポート層):B.セグメント, E.UDP

ネットワーク層はレイヤ3に相当する。

---
19.新しくアップデートされたIOSをインストールする前に、ルータでチェックする項目と、情報を収集するコマンドを2つ選択  
A.有効なFlashとRAMのメモリーサイズ  
D.`show version`

B.ルータに搭載されている現在のbootstrapソフトウェアのバージョン  
C.有効なROMのサイズ => ROMにはルータを起動するためのプログラムが格納されており、書き込み不可  
E.`show running-config`:ルータの現在の設定情報を表示する  
F.`show processes` => アクティブなプロセス情報や、CPU使用率を確認できる

IOSは圧縮された状態でルータのflashメモリ内に格納される。起動時にはflashメモリ内の圧縮されたIOSをRAMに展開して読み込む。そのため新たにIOSをインストールする場合、事前にflashメモリとRAMに新しいIOSを格納できるサイズを確保できるかどうか確認する必要がある。

---
20.MACアドレスの初めの24ビットの呼び方  
A.OUI

*Organizationally Unique Identifier*の略。OUIはIEEEがベンダごとに重複しない番号を割り当て管理している。後半24ビットはベンダ内で重複しないように管理しているシリアル番号

---
21.ディスタンスベクター型のルーティングプロトコルを動作させているとき、ルータが行うことで正しいものを2つ選択  
C.トポロジー変更の有無にかかわらず、定期的にアップデートを送信する => RIPはトポロジに変更がなくても30s間隔で行う  
D.ネイバーからのアップデートを元にしてルーティングテーブルを更新する

A.ルーティングドメインの全てのルータに対して、全てのルーティングテーブルのエントリを送信する => 隣のルータのみ  
B.全ネットワークのトポロジーをデータベースに維持する  
E.最適パスを決定するために最短パスアルゴリズムを使用する

ディスタンスベクター型のルーティングプロトコルの代表例はRIP(*Routing Information Protocol*)。最短パスアルゴリズム(SPFアルゴリズム)を使用し、全ネットワークのトポロジを作成するのは、リンクステート型プロトコルのOSPFやIS-IS

---
22.ルータに対してTelnetすることができない。トラブルの理由で正しいものを選択

<img width="700" alt="" src="./images/test3/問題22.png">

A.vtyにパスワードが設定されていない

B.Level 5パスワードが設定されていない => 存在しない  
C.ACLによってTelnetがブロックされている  
D.コンソールに設定されているパスワードが間違っている

Telnetの接続許可にはline vtyに対してlogin, passwordの設定が必要。ACLが設定されているものの宛先ポート番号が22番で、これはSSHプロトコル。ACLはTelnet接続に影響を与えない。line con 0にパスワードが設定されているが、Telnet接続する場合に使用するlineはvty。

---
23.同期回線と非同期回線をサポートするレイヤ2プロトコル  
C.PPP

A.X.25 B.フレームリレー D.HDLC => 同期回線で動作する

WAN接続で使用するレイヤ2プロトコルで、両方サポートしている。

---
24.ネットワークのパフォーマンスが遅い原因となっているアプリケーションを特定できるCisco IOSの機能  
A.Netflow

B.WCCP => *Web Cache Communication Protocol*。インターネットへ向かうトラフィック量を減らせる  
C.SNMP => ルータやスイッチから監視サーバへ情報を通知できる  
D.IP SLA => 測定用パケットをアクティブに生成する

Netflowはトラフィックの監視機能。宛先(送信元)IPアドレス、宛先(送信元)ポート番号、L3プロトコル、Tosバイト、入力インターフェイスが同じ通信をフローと呼び、フローごとの通信量を測定できる。

---
25.トランスポート層に相当するものを3つ  
A.セグメント  
B.UDP  
F.ウィンドウ制御

レイヤ2(データリンク層):C.フレーム  
レイヤ3(ネットワーク層):D.ルーティング, E.IPアドレス, G.パケット

トランスポート層はレイヤ4に相当する。

---
26.データのカプセル化について正しいもの  
D.パケットは、ネットワーク層がセグメントに対してレイヤ3のアドレスを追加することで作られる

A.プレゼンテーション層は物理リンク上で情報を送信するために、ビットを電圧に変換する => 物理層の役割  
B.パケットは、ネットワーク層がフレームに対して送信元と宛先のホストのアドレスを付けてカプセル化することで作られる => フレームではなくセグメント  
C.データリンク層では、セグメントに対して送信元と宛先の物理アドレス、FCSを追加する => セグメントではなくパケット  

カプセル化の手順(一部)は、トランスポート層(セグメント, レイヤ4) => ネットワーク層(パケット, レイヤ3) => データリンク層(フレーム, レイヤ2)。カプセル化の過程では、上位の層から受け取ったPDUの後続の各階層のプロトコルがカプセル化する。

---
27.データフレームを受信した時、R1はどのような動作をするか3つ選択

<img width="700" alt="" src="./images/test3/問題27.png">

A.R1はデータパケットをFastEthernet0/2から送信する => 4行目参照  
B.R1は宛先MACアドレスを取り除き、宛先MACアドレスをc200.4444.5555に置き換える => 0 / 0インターフェイスから4行目の宛先へ書き換えている  
E.R1は送信元MACアドレスを取り除き、送信元MACアドレスをc200.4444.1111に置き換える => 2行目のアドレスから0 / 2インターフェイスのMACアドレスに書き換えている

(4行目)192.168.40.5は0 / 2から送信される。イーサネットヘッダは、送信元がR1のFa0 / 2のMACアドレス、宛先がホストのMACアドレスになる。IPヘッダは経路の途中で変更されることはない。

---
28.ルータへのTelnet接続を1セッションだけに限定したい。この要件を満たす設定  
A.`line vty 1`  
`password cisco login`

Telnetによる同時接続数は、line vtyの番号で管理できる。line vty 1にだけパスワードとloginを設定することで、Telnet接続を1接続だけに限定できる。ACLでTelnet接続するホストのアドレスを限定しても、1ホストから複数のTelnetセッションが同じルータに接続することもあるため、1接続には限定できない。

---
29.コマンドの設定を行ったあと、showコマンドで確認したら図のように結果となった。設定内容で正しいもの

<img width="700" alt="" src="./images/test3/問題29.png">

D.VTYポートでSSHプロトコルを使用したアクセスが可能になる

VTY回線にSSHを使用したアクセスを許可する設定が行われている。パスワードは暗号化されており、transport input sshより、リモートアクセスにはSSHを使用した接続のみ許可されている。

---
30.PPPのコンポーネントの中でリンク上のピアIDを認証する際に使用されるもの  
D.LCP

A.SCP B.NCP C.IPCP E.DLCI

PPPには3つの主要なコンポーネントが含まれている。マルチプロトコルデータグラムのカプセル化方式・WANデータリンク接続を確立・設定、テストするための拡張可能なLCP・様々なネットワーク層プロトコルをサポートして構成するためのNCPファミリ、IP用のIPCP、IPv6用のIPv6CP、CDP用のCDPCPなどがある。LCPによってリンク上のピアIDを認証したり、リンクが正常に機能しているか判別するオプション機能が提供されている。また、カプセル化形式のオプションを自動的に決定し、パケットサイズに関する様々な制限を管理し、ループバックリンクを検出してそのリンクを終端される。

---
31.CSU / DSUとモデムの違いを説明しているもの  
D.CSU/DSUはルータからのディジタル信号を専用線の信号に変換します。モデムはルータからのディジタル信号を電話回線の信号に変換します。

モデムはキャリアの電話回線(アナログ通信回線)を終端し、CSU / DSUはキャリアのT1回線(専用線)などのデジタル回線を終端する。どちらも接続するルータとはデジタル信号を交換する。  
モデムは、電話回線のアナログ信号を変調してデジタル情報に符号化してルータなどに伝送したり、ルータから伝送されたデジタル信号を符号化してアナログ信号に変調して電話回線に伝送する。  
CSU / DSUはデジタル回線を終端する。CSUは誤り訂正と回線のモニタリングによって接続の情報制御を保持する。DSUはT1キャリア回線のフレームをLANが解釈できるフレームに変換したり逆の変換を行う。

---
32.デバッグメッセージにミリ秒単位でタイムスタンプを表示させるためのコマンド  
C.`service timestamps debug datetime msec`

コンソールログのタイムスタンプをミリ秒単位で表示させるには、debugをlogに変える。

---
33.ネットワークの状態が変化した時にマネージャに警告するためのSNMPのメッセージ  
B.trap

A.response C.get D.capture

SNMPエージェント(ルータやスイッチなど管理される側)からSNMPマネージャ(監視サーバ)に状態変化を通知するメッセージ。getやresponseはマネージャからエージェントに対してボーリングするときの要求と応答。captureはwiresharkなどでパケットを収集することを表す。

---
34.このネットワークにおけるブロードキャストドメインの数

<img width="700" alt="" src="./images/test3/問題34.png">

D.1

ブロードキャストドメインを分割するのはルータ。ハブやレイヤ2スイッチは分割できない。ハブはコリジョンドメインも分割しないので、合計6個のコリジョンドメインが存在している。

---
35.ハブを1つのVLANのみで構成されたレイヤ2スイッチに置き換えた場合の変化  
D.ブロードキャストドメインの数は変わらない
E.コリジョンドメインの数は増加する

ハブで接続された場合は範囲全体が半二重で動作するため、コリジョンドメインは1つ。レイヤ2スイッチはブロードキャストフレームをフラッドするためハブで接続していても全体に送信される。

---
36.EthernetのCSMA / CDにおいて、データ送信するタイミング  
C.他の機器がデータ送信していない事を検出した時  
E.通信媒体がアイドル状態である時

データ送信を行って良いタイミングは、ケーブルがアイドル(キャリア未探知)状態であること。コリジョンを探知した場合、データ送信を中止し、バックオフ時間待ったあと、再度データ送信を試みる。Tokenは存在しない。キャリアを検知した場合にいはデータを送信せず他者のデータ送信完了を待つ。スイッチがホストへ通信を許可することもない。

---
37.シリアル回線はデフォルトの速度で、イーサネットリンクは100Mbps。大阪ルータからスタティックルートでインターネットへのルートを設定するとき最も適切なコマンド

<img width="700" alt="" src="./images/test3/問題37.png">

B.`ip route 0.0.0.0 0.0.0.0 172.16.100.2`

インターネットへの接続ルートを設定する際には**デフォルトルートを使用**する。デフォルトルートは0.0.0.0を2つの後にネクストホップで設定する。大阪ルータからインターネットへ接続するルートではRouterBの方が速い。

---
38.SW1のコマンド出力から、ネット枠管理者が次に行う適切なアクションは何か

<img width="600" alt="" src="./images/test3/問題38.png">

B.SW2のFa0 / 24のデュプレックスの設定を確認する

CRCエラーが表示されているため、**デュプレックスのミスマッチが想定される**。出力7行目からSW1はFull Duplexに設定されているため、SW2の設定を確認する必要がある。

---
39.ルータのCPUの負荷率を確認するコマンド

D.`show process`

A.`show version` => 動作しているIOSのバージョンやハードウェア情報、メモリ情報、起動してからの経過時間、コンフィギュレーションレジスタ値などを確認できる  
C.`show protocols` => ルーテッドプロトコルやインターフェイスのIPアドレス / 状態を確認できる
