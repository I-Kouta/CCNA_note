# スイッチの基本設定
スイッチの正常な起動が確認できたら基本的な設定を行う。

### `スイッチの基本設定`
L2スイッチはコンピュータや機器をネットワークへ接続するための集線装置で、何も設定しなくてもフレームの転送処理を行う。ただし初期状態のままでは管理用IPアドレスやパスワードなどが設定されていないため、管理者は**離れた場所からスイッチへ管理アクセスしたりSNMPを使用してスイッチに関する情報収集や監視を行う**ことはできない。基本的な設定項目は次のとおり。  
・ホスト名  
・管理用IPアドレス  
・デフォルトゲートウェイ  
・二重モードと速度の設定  
・パスワード

- ホスト名の設定  
スイッチ自体を識別するための情報。常にプロンプトの先頭に表示される。デフォルトではSwitchという名前になっているため。任意の名前に設定することで管理者はネットワーク上の複数台のスイッチを区別し管理しやすくなる。  
**ホスト名の設定**  
`(config)#hostname <hostname>`  
hostname:スイッチの名前(ホスト名)を指定  
デフォルトに戻すにはno hostnameコマンドを使用する。

- 管理用IPアドレスの設定  
L2スイッチの物理的なポートは**スイッチポート**であり、レイヤ3(ネットワーク層)のIPアドレスを割り当てることはできない。代わりにスイッチ内部に用意された仮想的な**管理インターフェイス**にIPアドレスを割り当てる。CatalystスイッチにはデフォルトでVLAN1の管理インターフェイスが存在し無効になっている。VLANのカンリインターフェイスにIPアドレスを割り当てて使用する場合はコマンドが必要。  
**管理インターフェイスの設定**  
`(config)#interface vlan <vlan-id>`  
`(config-if)#ip address <ip-address> <subnet-mask>`  
`(config-if)#no shutdown`  
vlan-id:管理VLANの番号を指定(1がデフォルト)  
ip-address:IPアドレスを指定  
subnet-mask:サブネットマスクを指定  
no shutdownコマンドはインターフェイスを有効にするためのコマンド。IPアドレスを削除するためには`no ip address`コマンドを使用する。

- デフォルトゲートウェイの設定
外部ネットワークからL2スイッチにを管理する場合、スイッチにもデフォルトゲートウェイを設定する必要がある。デフォルトゲートウェイは、外部ネットワークへアクセスする際の出入り口を表し、コンピュータに設定するデフォルトゲートウェイと同じようにルータのインターフェイスに割り当てられるIPアドレスを指定する。  
**デフォルトゲートウェイの設定**  
`(config)#ip default-gateway <ip-address>`  
ip-address:デフォルトゲートウェイを指定(管理VLANと同じサブネットに接続しているルータインターフェイスのIPアドレス)  
管理VLAN:レイヤ2スイッチ自体を管理する目的で管理用IPアドレスを割り当てたVLAN。スイッチ自身が所属するVLANでもある  
設定したデフォルトゲートウェイを削除するためには`no ip default-gateway`コマンドを実行する。

---
> ARPANETではホスト名を定義している  
> `ホスト名は文字で始まり、文字または数字で終わり、間には文字・数字・ハイフンだけが含まれていなければならない。名前は63文字以下`  
> Catalystスイッチ、ソフトウェア、コンフィギュレーションガイドなどでも、hostnameコマンドで設定する時の名前はこの規則に従う。

> ・ホスト名の設定  
> `(config)#hostname <hostname>`

> ・IPアドレスの設定  
> `(config)#interface vlan 1`

> ・インターフェイスの有効化  
> `(config-if)#no shutdown`

> ・デフォルトゲートウェイの設定  
> `(config)#ip default-gateway <ip-address>`
