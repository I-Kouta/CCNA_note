# FTPとTFTP
どちらもファイル転送を行うプロトコル。FTPはTCP上で、TFTPはUDP上で動作する

### `FTP`
**FTP**(*File Transfer Protocol*)は、特定のコンピュータ間でファイル転送を行うためのプロトコル。サーバからファイルをダウンロードしたりアップロードしたりすることができる。インターネット上のフリーソフトやOSのパッチ(不具合の修正や新機能に使用するファイル)のダウンロードが可能。2つのコネクションを使用して通信を行い、ポート番号は20(データ転送用)と21(制御用)が予約されている。  
FTPを利用す流場合、クライアント側のコンピュータ側のコンピュータにFTPクライアントのソフトウェアをインストールする。また、Webブラウザに備わっている簡易のFTP機能を利用することもでき、アドレスバーにftpからアクセスしたいFTPサーバのドメイン名かIPアドレスを入力。  
インターネット上のファイルをダウンロードするという点ではHTTPとFTPは同じだが、ファイル転送のためにやり取りするメッセージの内容や手順が異なる。FTPではFTP通信の最初にID(名前)とパスワードを使って相手を確認する認証プロセスが必要で、通信にはデータ用と制御用のコネクションを確立する。

- FTPの2つのモード  
アクティブモードとパッシブモードの2タイプ。データ用コネクションの確立の要求をするのがサーバかクライアントかの違い。  
・アクティブモード:サーバ側からコネクション要求  
・パッシブモード:クライアント側からコネクション要求  
※制御用コネクションはどちらもクライアント側から要求  
2つのモードがあるのはセキュリティ上の理由のため。企業のネットワークでは外部からの侵入を防ぐために内部ネットワークと外部ネットワークの境界にファイアウォールが設置されている。ほとんどのファイアウォールではインターネットから社内へのコネクション確立を要求するためのTCP SYNセグメントを通さないように設定されている。アクティブモードの場合、インターネット上(外部)に存在するFTPサーバから、社内に対してデータ用コネクションの確立要求をしてもファイアウォールを通過できず通信ができない。  
パッシブモードではデータ用コネクションもクライアント側から確立するため、ファイアウォールを通過でき、FTPサーバのデータ転送用ポート暗号にはランダムな番号が使用される。

### `TFTP`
**TFTP**(*Trivial File Transfer Protocol*)は、簡易な手続きでファイル転送を行うプロトコル。データを受け取るとTFTP自身で確認応答(ACK)を返す機能は持っている。ウェルノウンポート「69」が予約されているものの、複数のTFTPユーザからの要求に対応するため、ランダムなポート番号も使用する。

- TFTPサーバ
- TFTPによるファイル転送の流れ
