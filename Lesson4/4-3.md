# IPアドレッシングの計算
必要なサブネットワークやホストアドレス数に応じてサブネットワークアドレスおよびホストアドレス範囲を求める必要がある。

### `サブネットマスクを求める`
・ネットワーク206.140.3.0から6つのサブネットに分割する。各サブネットには最大30のホストアドレスを必要としている。このときのサブネットマスクは？

1.アドレスクラスを確認する  
第1オクテットの数値から識別。206は192 ~ 223の範囲に当たるためクラスC。

2.ホスト部(サブネットマスク)を確認する  
クラスCの場合はホスト部は第4オクテットのみ。サブネットマスクは「255.255.255.0」。

3.サブネットワーク部を決定する  
6つのサブネットを得るために必要なサブネットワーク部のビット数を決定する。この場合は2の3乗は8なので「3ビットサブネット化した場合、サブネット数は8」。

4.ホストアドレス数を確認する  
ホスト数のビット数5は必要なホストアドレス数30を満たしているか確認、「2の5乗 - 2 = 30」→可。ホスト部5ビットの場合、ホストアドレス数は30

5.サブネットマスクを求める  
クラスCアドレスを3ビットサブネット化した場合、サブネットマスクの第4オクテットは「11100000」。よって、「**255.255.255.224**」

・172.30.0.0/16をサブネット化し、各サブネット化で最大380のホストアドレスを確保し、できるだけ多くのサブネットに分割する場合のサブネットマスクは？

1.ホスト部の決定
「/16」の場合、ホスト部のビット数は16。ホスト部に必要なビット数を先に決定する。「2の9乗 - 2 = 510」だと最適。

2.サブネットマスクを求める
ホスト部9ビットの場合、サブネットマスクの第3, 4オクテットは「11111110.00000000」。よって、「**255.255.254.0**」

### `サブネットアドレス、ブロードキャストアドレスを求める`
・IPアドレス192.168.1.51/28のホストが属する、サブネットアドレスとブロードキャストは？

1.サブネットマスク(プレフィックス長)を確認  
/28の場合、サブネットマスクの第4オクテットは「11110000」で4ビットサブネット化しており、ホスト部は残り4ビット。

2.サブネットアドレスを求める
サブネットアドレスは「ホスト部を全て0にしたアドレス」であり、IPアドレスの第4オクテット「51」を2進数に変換し、ホスト部下位4ビットを全て0にして10進数に戻すとサブネットアドレスになる。  
51 => 00110011 => 00110000:48  
プレフィックス長 => 11110000  
よって、サブネットアドレスは「192.168.1.48」

3.ブロードキャストアドレスを求める
ブロードキャストアドレスは「ホスト部を全て1にしたアドレス」であるためホスト部の下位4ビットを全て1にする。  
51 => 00110011 => 00111111:63  
よって、サブネットアドレスは「192.168.1.63」

### `適切なアドレスを求める`
・172.16.145.6/21が所属するホストアドレスとして適切なものを3つ  
A. 172.16.145.255  
B. 172.16.144.1  
C. 172.16.143.0  
D. 172.16.145.0  
E. 172.16.140.1  
F. 172.16.151.255

1.サブネットマスクを確認する  
/21の場合、第3オクテットは「11111000」で5ビットサブネット化しており、ホスト部は残り11ビット。

2.サブネットアドレスを求める  
IPアドレスの第3オクテット「145」を2進数に変換しホスト部下位3ビットを全て0にする。  
145 => 10010001 => 10010000:144  
サブネットアドレスは「172.16.144.0」

3.ブロードキャストアドレスを求める
ブロードキャストアドレスは「ホスト部を全て1にしたアドレス」であるためホスト部の下位3ビットを全て1にする。  
145 => 10010001 => 10010111:151  
よって、ブロードキャストアドレスは「192.168.151.255」

4.ホストアドレスの範囲を求める  
ホストアドレスの範囲は「サブネットアドレス + 1 ~ ブロードキャストアドレス - 1」。172.16.144.1 ~ 192.168.151.254。選択肢A, B, Dが正解

・サブネットマスク255.255.240.0を使用しているサブネットのブロードキャストアドレスとして適切なものを2つ  
A.100.255.250.255  
B.142.55.110.255  
C.98.256.15.255  
D.191.160.15.255  
E.172.17.16.255  
F.10.0.31.255

1.サブネットマスクを確認する  
第3オクテットは「11110000」で、ホスト部は下位12ビット(11110000.00000000)となる。

2.ブロードキャストアドレスを特定  
ホスト部の下位12ビットが全て1になるアドレスを探す。第4オクテットは255になる。選択肢D, Fが正解  
250 => 11111010  
110 => 01100110  
15 => 00001111(第2ビットが256は不可)  
16 => 00010000  
31 => 00011111(可)

---
> オクテット内でサブネット化したときのサブネットの桁数に対応する数値  
> `128:「10000000」`  
> `192:「11000000」`  
> `224:「11100000」`  
> `240:「11110000」`  
> `248:「11111000」`  
> `252:「11111100」`  
> `254:「11111110」`  
> `255:「11111111」`
