### `物理層・データリンク層2`

スイッチの機能

- スイッチの基本動作  
MACアドレスが分かっている場合、対象ポートにデータを送り

- 半二重・全二重・オートネゴシエーション  
半二重通信は通信を片道にする、全二重通信は通信を両方向にする、オートネゴシエーションは自動で判別する

- フレームの転送方式  
イーサネットフレーム末尾のFCSまで蓄えてから転送する「ストア&フォワード方式」、送信先のMACアドレスが分かり次第データの転送を開始する「カット&スルー方式」、フレームの先頭64bytesを見込んだ後に転送する「フラグメントフリー方式」などがあり転送速度に違いがある

- スイッチのフロー制御:通信がバッファに溜まりすぎた場合に、(半二重の場合)ジャム信号や(全二重の場合)PAUSEフレームを出して制御する

- スイッチのセキュリティ  
接続が禁止されているMACアドレスの機器があった場合にポートをシャットダウンするなどの措置をとる

- スパニングツリー  
障害対応のため冗長化(通信経路を2種類以上用意する)を行うことがある。その場合、ループが発生してしまう可能性があるため、スパニングツリーによってポートの有効・無効が制御される

- リンクアグリゲーション  
LANのPCやスイッチ間を複数のリンクで接続することで、障害耐性の向上と高速化を実現する仕組み。冗長化でスパニングツリーを用いる場合では、通信するポートとしないポートを決定して通信するポートのみ通信するが、リンクアグリフゲーションを利用すれば、複数のポートを同時に使うことができる

- VLAN  
仮想的にスイッチでVLANを分けることができる。物理的に繋がっていてもVLANとは通信できない。同じVLAN同士では通信できるが、異なるVLAN間では通信できない
