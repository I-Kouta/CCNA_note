# IPv6アドレス
IPv6のアドレスは長はIPv4の4倍あるため、従来の表記方法で表すことが難しい。

### `IPv6のアドレス表記`
IPv6は128ビットであるためIPv4のように10進数で表記すると長い数字の羅列になってしまう。そのため、16ビットずつコロンで区切って8個のフィールドに分け、16進数で表記する。アドレス表記を短くするため、省略ルールがある。  
・各フィールドの先頭の0は省略可能  
・0のフィールドが連続する場合は「::」で1度だけ表現可能  
例:  
2001:0db8:0001:0020:0abc:0000:0000:0001 => 2001:db8:1:20:abc:0:0:1 => 2001:db8:1:20:abc::1

### `IPv6のプレフィックス`
IPv6のプレフィックスは、次の2つの用途で使用される。  
・IPv6のネットワークアドレスを表す  
・IPv6アドレスの一部で固定のビット値を表す

IPv6でネットワークアドレスを示す場合、サブネットマスクは使用しない。CIDR表記と同様、/でプレフィックスを表す。  
例:IPv6アドレスが2001:db8:1234:1::1:1/64の場合  
ネットワークアドレスは2001:db8:1234:1:: / 64  
プレフィックスはアドレス範囲を示す場合にも使用される。「2000::/3」の場合、2進数の先頭から3ビットの値が001で始まるアドレス全てを表現する。  
2000::/3 => 先頭3ビットが001で始まるアドレス  
FF80::/10 => 先頭10ビットが1111 1111 10で始まるアドレス

### `IPv6アドレスの種類`
IPv6アドレスでは、3種類のアドレスを定義している。

- ユニキャストアドレス(1対1の通信)  
1対1の通信で利用される単一インターフェイス用のアドレス。IPv4と同様に、特定のインターフェイスに割り当てられる。また、ユニキャストアドレス宛のパケットは、そのアドレスを持つインターフェイスに転送される。

- マルチキャストアドレス(1対多の通信)  
IPv4と同様に、特定のグループに対する通信(1対多)の際に宛先アドレスとして利用される。

- エニーキャストアドレス(1対多の1と通信)(最も近いノードと通信)  
エニーキャストアドレスでは、複数のノードのインターフェイスに対して同じユニキャストアドレスを割り当てる。エニーキャストアドレス宛のパケットは、そのアドレスを持つ最も近いノードのインターフェイスに転送される。

IPv6にはブロードキャストアドレスは存在しない。マルチキャストアドレスが同様の役割を果たす。

### `アドレススコープ`
IPv6のアドレスタイプには、アドレスの有効範囲を表す「スコープ」が3種類ある。  
・グローバル:  
有効範囲に制限はなく、通常はISPから取得するアドレス。インターネットを含め全IPv6ネットワークで利用できる  
・ユニークローカル:  
組織内でのみ有効なユニキャストのアドレスで、IPv4のプライベートアドレスに相当する。IPv6はアドレス空間が広大なため、内部の全ホストにグローバルアドレスを割り当てることができるので、ユニークローカルアドレスは必要に応じて割り当てる  
・リンクローカル:  
特定リンク(サブネット)でのみ有効なアドレス。リンクローカルアドレス宛のパケットはルータを超えて転送されない。アドレス自動設定やルーティングプロトコルなどで利用される

### `ユニキャストアドレス`
IPv4のユニキャストアドレスがネットワーク部とホスト部で構成されていたように、IPv6のユニキャストアドレスもネットワークを示すプレフィックス(**サブネットプレフィックス**)と、そのネットワークに接続されるホスト(インターフェイス)を示す**インターフェイスID**で構成される。IPv6のサブネットプレフィックスとインターフェイスIDの境界は固定のため、アドレス設計は容易。スコープ(有効範囲)によって、「グローバルユニキャストアドレス」「ユニークローカルユニキャストアドレス」「リンクローカルユニキャストアドレス」に分かれる。

- グローバルユニキャストアドレス(2000::/3で始まる)


- ユニークローカルユニキャストアドレス(FC::/7で始まる)


- リンクローカルユニキャストアドレス(FC::/10で始まる)


### `特殊なIPv6アドレス`


- ループバックアドレス(::1)


- 未指定アドレス(::)


- 文章用のIPv6アドレス(2001:db8::/32)


### `インターフェイスID`


- EUI-64


### `マルチキャストアドレス（FF00::/8で始める`



### `エニーキャストアドレス(1対多の1と通信)(最も近いノードと通信)`


- 予約済みのエニーキャストアドレス


### `IPv6の経路集約`


---
> IPv6のアドレスタイプ:ユニキャスト、マルチキャスト、エニーキャスト  
> ブロードキャスト:廃止  
> エニーキャスト:`最も近いノードと通信`
