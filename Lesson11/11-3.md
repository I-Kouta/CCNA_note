# NATの設定

### `スタティックNATの設定`

- 1.内部 / 外部ネットワークの定義  
内部ネットワークを接続するインターフェイスにinside、外部ネットワークを接続するインターフェイスにoutsideを定義する。これによって、NATルータは内部ネットワークと外部ネットワーク間で転送されるパケットのアドレス変換を実行する。  
**内部 / 外部ネットワークの定義**  
`(config-if)#ip nat inside`:内部ネットワーク  
`(config-if)#ip nat outside`:外部ネットワーク

2.スタティックNAT(内部送信元アドレス変換)の定義  
スタティックNATの設定では1対1の関係で変換エントリが作成され、特定のアドレスが指定したアドレスに変換される。スタティックNATを設定すると、変換エントリが即座にNATテーブルに登録され、内部ホストと外部ホストのどちらからでも接続を開始できる。不要になったスタティックエントリをNATテーブルから削除するには、設定時のコマンドの先頭にnoを付けて実行する。内部の送信元アドレス変換を行うスタティックNATでは**ip nat inside source static**コマンドを使用する。  
**スタティックNAT変換(内部送信元アドレス変換)の設定**  
`(config)#ip nat inside source static <local-ip> <global-ip>`  
local-ip:内部ローカルアドレスを指定  
global-ip:内部グローバルアドレスを指定

### `ダイナミックNATの設定`

1.内部 / 外部ネットワークの定義

2.NATプールの作成

3.変換対象となる内部ローカルアドレスをACLで指定

4.ダイナミックNATの定義

---
> スタティックNATは、単一の内部アドレスと単一の外部アドレスを変換する。スタティックNATの変換エントリは、コマンドが設定されると常にテーブルに登録されている。そのため、スタティックNATの場合は外部ホストから接続を開始することもできる。
