# NATとPATの概要
企業や組織などのプライベート(内部)ネットワークでは通常、プラーベートIPアドレスによってアドレッシングされる。一方インターネットはグローバルIPアドレスを使用したネットワーク。そのため、内部ネットワーク上のホストをインターネットに接続する場合、プライベートIPアドレスをグローバルIPアドレスに変換する必要がある。プライベートIPアドレスとグローバルアドレスの変換には、NATやPATなどの技術が使用される。

### `NATの必要性`
**NAT**(*Network Address Translation*)は、IPアドレスを相互に変換する技術。プライベートIPアドレスとグローバルIPアドレスを相互に変換する用途で一般的に利用される。IPv4アドレスは32ビット値で、約43億個(2**32)のアドレスを表現できる。アドレス不足の問題が生じるが、NATはIPアドレスの枯渇を解決できるアドレス変換技術。  
IPヘッダ内の送信元アドレスがプライベートアドレスの場合に、インターネット上で利用可能なグローバルアドレスに書き換える。そのグローバルアドレスを宛先とする応答パケットでは、宛先アドレスを元のプライベートアドレスに変換する。つまり、インターネットへのアクセスが必要になったホストが一時的にグローバルアドレスを使用し、不要になればアドレスを解放して他のホストがそのグローバルアドレスを利用する。これによってインターネットを利用する内部ネットワーク上のホスト数と同じ数のグローバルアドレスを確保しなくても、複数のユーザで1つのグローバルアドレスを使い回すことが可能になるため、IPアドレスを有効に活用できる。また、NATを利用することで、内部ネットワークに割り当てたIPアドレスを外部からは隠蔽することができるため、セキュリティが向上する利点もある。

### `NAT用語`
内部ローカルアドレス:内部ホスト(内部ネットワーク上のホスト)に割り当てられたIPアドレス。一般的にプライベートIPアドレスを使用する  
内部グローバルアドレス:外部ホスト(外部ネットワーク上のホスト)から見た、内部ホストのIPアドレス。通常はISPから割り当てられたインターネット接続に使用するグローバルIPアドレス  
外部ローカルアドレス:内部ホストが宛先として指定する、外部ホストのIPアドレス  
外部グローバルアドレス:外部ホストに実際に割り当てられたIPアドレス  
NATはサーバの負荷分散や、IPアドレスが重複する異なるネットワークの相互接続など、いくつか用途がある。プライベートIPアドレスを割り当てた内部ホストがインターネットへアクセスするためのアドレス変換では、内部ローカルアドレスと内部グローバルアドレスの相互変換が行われる。外部ローカルアドレスと外部グローバルアドレスの変換は行われない。

### `NATのアドレス変換の種類`

- スタティックNAT

- ダイナミックNAT

### `PAT`

---
> 内部ローカルアドレス:グローバルIPアドレス  
> 内部グローバルアドレス:グローバスIPアドレス  
> プライベートIPアドレスは、RFC1918で定義
