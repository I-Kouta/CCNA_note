# 管理アクセスに対するセキュリティの強化
ユーザ認証やSSH、ACLを利用した管理アクセス制御でセキュリティ強化をできる

### `ユーザ認証による管理アクセスの保護`
コンソールポートやVTY(仮装端末)ポートを使用して管理アクセスするとき、ユーザ名とパスワードの入力を要求し、ユーザ認証するように構成できる。ユーザ認証を利用すると、複数の管理者でパスワードを共有する必要がなくなる。また、ルータ(スイッチ)へのログインが許可された正規ユーザなのかを判別できる。ユーザ認証を行うには、事前にユーザアカウント(ユーザ情報)をデータベースとして用意する必要がある。ユーザデータベースをローカルで保持するローカル認証と、認証サーバを利用する方法がある。

- ローカル認証  
ユーザアカウントをコンフィギュレーションファイル内に格納してルータ(スイッチ)自身で認証を行う。設定・導入が容易なメリットがある一方、ネットワークデバイスごとにユーザデータベースを保持するため、ユーザ情報の管理に手間がかかるといったデメリットもある。</br></br>
1.ユーザアカウントの作成  
ローカル認証を行う場合、ユーザアカウントに**username**コマンドでユーザ名とパスワードの組み合わせを登録する。**password**ではコンフィギュレーションファイルへ保存時にパスワードは暗号化されないが、**secret**だとパスワードは暗号化される。削除の際はコマンドの先頭にnoを付けて実行する。  
**ユーザアカウント(ユーザ情報)の作成**  
`(config)#username <name> password(またはsecret) <password>`  
name:管理アクセスを行うユーザ名を指定  
password:ユーザごとに異なるパスワードを指定。大文字小文字の区別がされる</br></br>
2.ローカル認証の有効化  
`line console 0`や`line-number`コマンドでそれぞれのラインコンフィギュレーションモードから**login local**コマンドでローカル認証機能を有効にする。noを先頭につけてコマンドを実行するとローカル認証を無効にする。  
**ローカル認証の有効化**  
`(config-line)#login local`

- 認証サーバ(RADIUS / TACACS+)  
ネットワークやシステムにログインを試行してきたユーザが、アクセス許可を受けている正規のユーザか判別するためのサーバのこと。ルータ(スイッチ)のコンソールポートやVTYポートに対して管理アクセスする際に、外部の認証サーバを利用して認証するように構成できる。ユーザデータベースをサーバ上で一元管理するため、個々の機器でユーザアカウントを作成する必要がない。通常、ルータ(スイッチ)は**RADIUS**や**TACACS+**などのセキュリティプロトコルを使用して認証サーバへ問い合わせを行う。それぞれのプロトコルは、サーバのデータベースを利用してAAA機能を提供する。**AAA**は、Authentication(認証)、Authorization(許可)、Accounting(アカウンティング)の頭文字で、3つのセキュリティ機能を提供する仕組みを表す。

- 特権

### `SSHを使用した管理アクセス`

1.ユーザアカウント(ユーザ情報)の作成

2.ホスト名の設定

3.ドメイン名の設定

4.暗号鍵の生成

5.SSHバージョンの設定

6.SSHの許可

7.ローカル認証の有効化

- SSHサーバ機能の検証

### `ACLを使用したVTYアクセス制御`

- VTYアクセス制御の設定

1.標準ACLの作成

2.VTY回線に対してACLを適用

### `EXECセッションのタイムアウト`

### `バナーメッセージの設定`

---
> line設定がloginのとき => `password`コマンドで認証  
> line設定がlogin localのとき => `username`コマンドで認証  
> usernameとlineは離れたところに表示される
